<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For a Flower ðŸŒ¸</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  padding:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#0a0a10;
  font-family:'Playfair Display', serif;
  color:#fff;
  overflow:hidden;
  text-align:center;
}

/* petals */
.petal{
  position:absolute;
  width:14px;
  height:14px;
  background:rgba(255,182,193,0.7);
  border-radius:50%;
  animation:fall linear infinite;
  pointer-events:none;
}

@keyframes fall{
  0%{transform:translateY(-40px) rotate(0deg);}
  100%{transform:translateY(110vh) rotate(360deg);}
}

.main{
  max-width:520px;
  padding:30px;
  z-index:10;
}

/* top gif */
#topGif{
  width:120px;
  margin:0 auto 25px;
}

/* TEXT FIX HERE */
#text{
  font-size:20px;
  line-height:2;
  white-space:pre-wrap;   /* IMPORTANT */
  opacity:0;
}

#end{
  margin-top:30px;
  font-size:12px;
  opacity:0.6;
}

/* music button */
#playMusic{
  position:fixed;
  top:15px;
  right:15px;
  background:rgba(255,182,193,0.8);
  border:none;
  padding:8px 14px;
  border-radius:20px;
  cursor:pointer;
  font-size:14px;
  z-index:20;
}
</style>
</head>

<body>

<audio id="music" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>
<button id="playMusic">Play Music</button>

<!-- petals -->
<script>
for(let i=0;i<30;i++){
  let p=document.createElement("div");
  p.className="petal";
  p.style.left=Math.random()*100+"vw";
  p.style.animationDuration=(6+Math.random()*6)+"s";
  p.style.width=p.style.height=(10+Math.random()*12)+"px";
  document.body.appendChild(p);
}
</script>

<div class="main">
  <img id="topGif" src="sparkle.gif" alt="sparkle">
  <div id="text"></div>
  <div id="end">made by HOTOKE for JASMINE</div>
</div>

<script>
const lines = [
  "Khuda ne jab tujhe fursat mei bnaya hoga",
  "Ke Khuda ne jab tujhe fursat mei bnaya hoga",
  "ek surur sa uske dil mei bhi chhaya hoga",
  "teri nazaron mei samandar",
  "aadao mei puri kayanat",
  "ye nazare bhar ke sach kheta hu",
  "tujhe dharti pe bhejne se phele",
  "us khuda ka bhi imaan dhagmagaya hoga"
];

const textEl = document.getElementById("text");
let line = 0;
let char = 0;

function typeEffect(){
  if(line < lines.length){
    if(char < lines[line].length){
      textEl.innerHTML += lines[line].charAt(char);
      char++;
      setTimeout(typeEffect, 35);
    } else {
      textEl.innerHTML += "\n\n";   // SPACE BETWEEN LINES
      line++;
      char = 0;
      setTimeout(typeEffect, 400);
    }
  }
}

window.onload = () => {
  textEl.style.opacity = 1;
  typeEffect();
};

// music
const music = document.getElementById("music");
document.getElementById("playMusic").onclick = () => {
  music.play();
  document.getElementById("playMusic").style.display = "none";
};
</script>

</body>
</html>
